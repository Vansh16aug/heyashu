<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Management - heyashu Open Source Digital Garden</title>
    <meta
      name="description"
      content="Admin panel for managing Ashutosh Anand Tiwari's blog and digital notes."
    />
    <meta name="robots" content="noindex, nofollow" />
    <link rel="canonical" href="https://heyashu.in/admin/" />
    <meta name="author" content="Ashutosh Anand Tiwari" />
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <style>
      span[class*="PublishButton"] {
        display: none;
      }
      body {
        background-color: #f0f0f0;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <!-- Include the script that builds the page and powers Decap CMS -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>

    <script>
      // Ensure the script runs after Decap CMS loads
      window.addEventListener("DOMContentLoaded", function () {
        // Set an interval to check every second (1000 milliseconds)
        const intervalId = setInterval(function () {
          // Find the element with the class name 'Pane vertical Pane1'
          const targetElement = document.querySelector(".Pane.vertical.Pane1");
    
          // Check if the element is found and the warning is not already added
          if (targetElement && !document.getElementById("warning-div")) {
            console.log("Yes,", targetElement);
    
            // Find the second div element within the target element
            const secondDivElement = targetElement.querySelectorAll('div')[1];
    
            // Create a new div element with warning styles
            const warningDiv = document.createElement("div");
            warningDiv.id = "warning-div"; // Set the ID to prevent duplication
            warningDiv.style.backgroundColor = "#dcf9cd";
            warningDiv.style.color = "black";
            warningDiv.style.padding = "10px";
            warningDiv.style.marginBottom = "10px";
            warningDiv.style.fontFamily = "math";
            warningDiv.style.width = "100%";
            warningDiv.style.borderRadius = "5px";
            warningDiv.style.paddingLeft = "35px";
            warningDiv.style.paddingRight = "16px";
            warningDiv.style.paddingTop = "16px";
            warningDiv.style.paddingBottom = "16px";
            warningDiv.style.marginRight = "auto";
            warningDiv.style.position = "relative";
    
            // Create the warning message content
            warningDiv.innerHTML = `
              <button id="close-warning" style="position: absolute; top: 5px; right: 10px; background-color: transparent; border: none; font-size: 16px; cursor: pointer;">&times;</button>
              <p id="heading" style="font-size:24px;">Welcome to the Digital Garden! ðŸŒ± You are going to be a gardener of this garden, and we are thrilled to have you here. ðŸ˜Š</p>
              <p>Here are a few tips:</p>
              <ol>
                <li>We will beautifully format your name, links, and markdown. The preview on the right isnâ€™t the final look; it is just for your reference.</li>
                <li>Structure your content in the markdown editor at the last field, where you can describe your content. After that, hit save.</li>
                <li>Remember the URL for future edits. Here is your current URL: <a href="${window.location.href}" target="_blank">${window.location.href}</a>. Copy this for your reference.</li>
                <li>Once you hit save, a pull request will be automatically created and merged within minutes. Your blog will go live at: <a href="https://heyashu.in/blog/your-blog-title" target="_blank">https://heyashu.in/blog/your-blog-title</a>.</li>
                <li>For more information, <a href="https://topmate.io/aat/1148709/pay" target="_blank">Click to contact for anything</a>.</li>
              </ol>
            `;
    
            // Insert the warning div as the first child of the second div element
            secondDivElement.insertBefore(warningDiv, secondDivElement.firstChild);
    
            // Add event listener to the close button
            document.getElementById("close-warning").addEventListener("click", function () {
              warningDiv.style.display = warningDiv.style.display === "none" ? "block" : "none";
            });
            document.getElementById("heading")?.style.fontSize='24px'
    
            // Clear the interval since the element is found and warning is added
            clearInterval(intervalId);
          }
        }, 1000); // 1000 milliseconds = 1 second
      });
    </script>
    
    
  </body>
</html>
